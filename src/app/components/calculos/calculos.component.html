<div id="todo" class="container mt-5">

    <div class="row">
        <div class="col-6">
            <h1 class="text-center mt-5">{{formulario.propietario}}</h1>
            <h3 class="text-center">Tarifa {{formulario.tarifa}}</h3>
        </div>
        <div class="col-6">
            <img class="img-fluid" src="assets/img/logo2.png">
        </div>
    </div>
    <hr class="bg-dark">
    <div id="calculos" class="row" *ngIf="costeTotal.length > 1">
        <div class="col-lg-6 col-sm-12 text-center">
            <h3 class="text-center">Pagado</h3>
            <table id="pagado" class="table table-striped table-dark text-center">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Coste</th>
                        <th scope="col">Días</th>
                        <th scope="col">Fecha Inicio</th>
                        <th scope="col">Fecha Fin</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let res of datos[0].data">
                        <th scope="row">{{res.index}}</th>
                        <td>{{res.coste | currency:'EUR'}}</td>
                        <td>{{res.dias}}</td>
                        <td>{{res.fechaInicio | date:'dd/MM/yyyy'}}</td>
                        <td>{{res.fechaFin | date:'dd/MM/yyyy'}}</td>
                    </tr>
                </tbody>
            </table>
            <button class="btn btn-success btn-sm mr-1"
                onclick="$('#pagado').tableExport({type:'xlsx',bootstrap:true});">Exportar
                tabla (EXCEL)</button>
            <button class="btn btn-success btn-sm mr-1"
                onclick="$('#pagado').tableExport({type:'pdf',bootstrap:true});">Exportar
                tabla (PDF)</button>
            <button class="btn btn-success btn-sm"
                onclick="$('#pagado').tableExport({type:'csv',bootstrap:true});">Exportar
                tabla (CSV)</button>
        </div>
        <!-- <button class="btn btn-success" onclick="TableExport(document.getElementsByTagName('table'),{
                    headers: true,       // (Boolean), display table headers (th or td elements) in the <thead>, (default: true)
                    footers: true,       // (Boolean), display table footers (th or td elements) in the <tfoot>, (default: false)
                    formats: ['xlsx', 'csv', 'txt'],   // (String[]), filetype(s) for the export, (default: ['xlsx', 'csv', 'txt'])
                    filename: 'id',      // (id, String), filename for the downloaded file, (default: 'id')
                    bootstrap: true,     // (Boolean), style buttons using bootstrap, (default: true)
                    exportButtons: true, // (Boolean), automatically generate the built-in export buttons for each of the specified formats (default: true)
                    position: 'bottom',  // (top, bottom), position of the caption element relative to table, (default: 'bottom')
                    ignoreRows: null,    // (Number, Number[]), row indices to exclude from the exported file(s) (default: null)
                    ignoreCols: null,    // (Number, Number[]), column indices to exclude from the exported file(s) (default: null)
                    trimWhitespace: true,// (Boolean), remove all leading/trailing newlines, spaces, and tabs from cell text in the exported file(s) (default: false)
                    RTL: false           // (Boolean), set direction of the worksheet to right-to-left (default: false)
                });">Exportar
            tabla</button> -->
        <div class="col-lg-6 col-sm-12 text-center">
            <h3 class="text-center">Calculado</h3>
            <table id="calculado" class="table table-striped table-dark text-center">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Coste</th>
                        <th scope="col">Días</th>
                        <th scope="col">Fecha Inicio</th>
                        <th scope="col">Fecha Fin</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let res of datos[1].data">
                        <th scope="row">{{res.index}}</th>
                        <td>{{res.coste | currency:'EUR'}}</td>
                        <td>{{res.dias}}</td>
                        <td>{{res.fechaInicio | date:'dd/MM/yyyy'}}</td>
                        <td>{{res.fechaFin | date:'dd/MM/yyyy'}}</td>
                    </tr>
                </tbody>
            </table>
            <button class="btn btn-success btn-sm mr-1"
                onclick="$('#calculado').tableExport({type:'xlsx',bootstrap:true});">Exportar tabla (EXCEL)</button>
            <button class="btn btn-success btn-sm mr-1"
                onclick="$('#calculado').tableExport({type:'pdf',bootstrap:true});">Exportar
                tabla (PDF)</button>
            <button class="btn btn-success btn-sm"
                onclick="$('#calculado').tableExport({type:'csv',bootstrap:true});">Exportar
                tabla (CSV)</button>
        </div>
        <div class="col-12 mt-5">
            <app-grafico *ngIf="costeTotal.length > 1" [barChartData]="costeTotal" [barChartLabels]="labels">
            </app-grafico>
            <br>
            <a href="#" (click)="exportarGrafico($event, 0)" class="btn btn-sm btn-primary">Exportar gráfico</a>
        </div>
    </div>
    <br>
    <br>
    <div class="row" *ngIf="costeTotal.length > 1">
        <div class="col-12">
            <app-grafico *ngIf="costeTotal.length > 1" [barChartData]="calculoTotal" [barChartLabels]="labelsTotal">
            </app-grafico>
            <br>
            <a href="#" (click)="exportarGrafico($event, 1)" class="btn btn-sm btn-primary">Exportar gráfico</a>
        </div>
    </div>
</div>
<!-- <a href="#" (click)="exportarGraficos($event)" class="btn btn-sm btn-primary">Exportar gráficos</a> -->

<!-- <button (click)="generarPDF($event)" class="btn btn-primary">Generar PDF</button> -->